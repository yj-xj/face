# 人脸替换应用

这是一个基于Python的人脸替换应用，可以将图片中的人脸替换到视频中的人脸上。

## 功能特性

- 支持图片到视频的人脸替换
- 提供用户友好的GUI界面
- 支持播放处理后的视频
- 可滚动界面方便查看所有内容
- 包含进度显示和处理状态反馈
- 现代化UI设计，包含主题和样式系统

## 主要界面

应用的主要界面分为左右两栏：
- 左侧为视频播放区域，包含媒体控制按钮
- 右侧为参数设置区域，包含人脸选择、视频选择和处理选项

## 技术栈

- Python
- Tkinter/ttk用于基础GUI
- PyQt5用于增强GUI版本
- OpenCV用于图像处理
- dlib用于人脸检测
- InsightFace用于高级人脸替换

## 使用方法

1. 选择一张包含清晰人脸的图片
2. 选择要处理的视频
3. 设置输出路径
4. 调整处理参数（可选）
5. 点击"开始处理"按钮
6. 等待处理完成后自动播放结果

## 模型文件

由于模型文件较大，未包含在代码仓库中。请从以下链接下载所需模型：

- InsightFace模型 (inswapper_128.onnx)
- 人脸特征点模型 (shape_predictor_68_face_landmarks.dat)
- Buffalo模型 (buffalo_l文件夹)

请将下载的模型文件放在`models`目录下。

## 安装

```bash
pip install -r requirements.txt
```

## 运行

```bash
python run_face_swap.py
```

## 最近更新

- 添加了主滚动区域，使整个界面可上下滚动查看所有内容
- 实现了视频播放器组件，包括播放/暂停按钮、停止按钮、进度条和时间显示
- 修复了视频播放相关的bug
- 应用ttk主题和样式系统，优化UI外观
- 改进布局系统和组件排列
- 增强进度显示功能与视觉反馈
 